Name:KYSA-202112-1034
Severity:中等
Summary:php漏洞
Published:2021-12-24
URL:/support/loophole/patch/705.html
Title:
			摘要：php漏洞
安全等级：中等
发布日期：2021年12月24日
修复的CVE：CVE-2020-7059、CVE-2020-7060、CVE-2020-7062、CVE-2020-7069、CVE-2020-7070、CVE-2020-7071、CVE-2021-21703、CVE-2021-21704、CVE-2021-21705
		
1.修复的CVE CVE-2020-7059描述：在PHP中，当使用文件上传功能时，如果上传进度跟踪是启用的，但是session.upload_progress. cleanup被设置为0(disabled)，并且文件上传失败，那么上传过程将尝试清理不存在的数据，并遇到空指针解引用，这可能会导致崩溃。CVE-2020-7060描述：PHP（PHP：Hypertext Preprocessor，PHP：超文本预处理器）是PHPGroup和开放源代码社区的共同维护的一种开源的通用计算机脚本语言。该语言主要用于Web开发，支持多种数据库及操作系统。PHP 中存在缓冲区错误漏洞。攻击者可利用该漏洞获取信息或造成应用程序崩溃。CVE-2020-7062描述：PHP中的Session Upload Progress存在代码问题漏洞。该漏洞源于网络系统或产品的代码开发过程中存在设计或实现不当的问题。CVE-2020-7069描述：PHP（PHP：Hypertext Preprocessor，PHP：超文本预处理器）是PHPGroup和开放源代码社区的共同维护的一种开源的通用计算机脚本语言。该语言主要用于Web开发，支持多种数据库及操作系统。PHP 7.2.0版本、7.3.0版本和7.4.0版本中存在加密问题漏洞，该漏洞源于网络系统或产品未正确使用相关密码算法，导致内容未正确加密、弱加密、明文存储敏感信息等。CVE-2020-7070描述：PHP（PHP：Hypertext Preprocessor，PHP：超文本预处理器）是PHPGroup和开放源代码社区的共同维护的一种开源的通用计算机脚本语言。该语言主要用于Web开发，支持多种数据库及操作系统。PHP 中存在输入验证错误漏洞。该漏洞源于网络系统或产品未对输入的数据进行正确的验证。CVE-2020-7071描述：PHP（PHP：Hypertext Preprocessor，PHP：超文本预处理器）是PHP社区的共同维护的一种开源的通用计算机脚本语言。该语言主要用于Web开发，支持多种数据库及操作系统。PHP 存在输入验证错误漏洞，该漏洞源于php_url_parse_ex函数导致FILTER_VALIDATE_URL接受带有无效userinfo的URL。CVE-2021-21703描述：PHP是一种在服务器端执行的脚本语言。PHP 存在缓冲区错误漏洞，攻击者可以通过 FPM 绕过 PHP 的访问限制，以读取或更改数据。CVE-2021-21704描述：在PHP中，当使用Firebird PDO驱动程序扩展时，恶意的数据库服务器可能会返回驱动程序未正确解析的无效响应数据，从而导致各种数据库函数崩溃，如getAttribute()、execute()、fetch()等。这可能导致崩溃、拒绝服务或潜在的内存损坏。CVE-2021-21705描述：在PHP中，当通过filter_var()函数使用带有FILTER_VALIDATE_URL参数的URL验证功能时，带有无效密码字段的URL可以被视为有效的。这可能导致代码错误地解析URL，并可能导致其他安全问题——比如联系错误的服务器或做出错误的访问决策。2.影响的操作系统及修复版本银河麒麟高级服务器操作系统 V10 SP2php-7.2.10-16.ky10php-bcmath-7.2.10-16.ky10php-cli-7.2.10-16.ky10php-common-7.2.10-16.ky10php-dba-7.2.10-16.ky10php-dbg-7.2.10-16.ky10php-devel-7.2.10-16.ky10php-embedded-7.2.10-16.ky10php-enchant-7.2.10-16.ky10php-fpm-7.2.10-16.ky10php-gd-7.2.10-16.ky10php-gmp-7.2.10-16.ky10php-help-7.2.10-16.ky10php-intl-7.2.10-16.ky10php-json-7.2.10-16.ky10php-ldap-7.2.10-16.ky10php-mbstring-7.2.10-16.ky10php-mysqlnd-7.2.10-16.ky10php-odbc-7.2.10-16.ky10php-opcache-7.2.10-16.ky10php-pdo-7.2.10-16.ky10php-pgsql-7.2.10-16.ky10php-process-7.2.10-16.ky10php-recode-7.2.10-16.ky10php-snmp-7.2.10-16.ky10php-soap-7.2.10-16.ky10php-tidy-7.2.10-16.ky10php-xml-7.2.10-16.ky10php-xmlrpc-7.2.10-16.ky103.受影响的软件包银河麒麟高级服务器操作系统 V10 SP2aarch64:php、php-bcmath、php-cli、php-common、php-dba、php-dbg、php-devel、php-embedded、php-enchant、php-fpm、php-gd、php-gmp、php-help、php-intl、php-json、php-ldap、php-mbstring、php-mysqlnd、php-odbc、php-opcache、php-pdo、php-pgsql、php-process、php-recode、php-snmp、php-soap、php-tidy、php-xml、php-xmlrpc、x86_64:php、php-bcmath、php-cli、php-common、php-dba、php-dbg、php-devel、php-embedded、php-enchant、php-fpm、php-gd、php-gmp、php-help、php-intl、php-json、php-ldap、php-mbstring、php-mysqlnd、php-odbc、php-opcache、php-pdo、php-pgsql、php-process、php-recode、php-snmp、php-soap、php-tidy、php-xml、php-xmlrpc、4.修复方法方法一：配置源进行升级安装1.打开软件包源配置文件，根据仓库地址进行修改。仓库源地址：银河麒麟高级服务器操作系统 V10 SP2aarch64:http://update.cs2c.com.cn:8080/NS/V10/V10SP2/os/adv/lic/updates/aarch64/x86_64:http://update.cs2c.com.cn:8080/NS/V10/V10SP2/os/adv/lic/updates/x86_64/2.配置完成后执行更新命令进行升级，命令如下：yum update Packagename方法二：下载安装包进行升级安装通过软件包地址下载软件包，使用软件包升级命令根据受影响的软件包列表进行升级安装,命令如下：yum install Packagename5.软件包下载地址：·银河麒麟高级服务器操作系统 V10 SP2 php aarch64软件包下载地址:http://update.cs2c.com.cn:8080/NS/V10/V10SP2/os/adv/lic/updates/aarch64/Packages/php-7.2.10-16.ky10.aarch64.rpmhttp://update.cs2c.com.cn:8080/NS/V10/V10SP2/os/adv/lic/updates/aarch64/Packages/php-bcmath-7.2.10-16.ky10.aarch64.rpmhttp://update.cs2c.com.cn:8080/NS/V10/V10SP2/os/adv/lic/updates/aarch64/Packages/php-cli-7.2.10-16.ky10.aarch64.rpmhttp://update.cs2c.com.cn:8080/NS/V10/V10SP2/os/adv/lic/updates/aarch64/Packages/php-common-7.2.10-16.ky10.aarch64.rpmhttp://update.cs2c.com.cn:8080/NS/V10/V10SP2/os/adv/lic/updates/aarch64/Packages/php-dba-7.2.10-16.ky10.aarch64.rpmhttp://update.cs2c.com.cn:8080/NS/V10/V10SP2/os/adv/lic/updates/aarch64/Packages/php-dbg-7.2.10-16.ky10.aarch64.rpmhttp://update.cs2c.com.cn:8080/NS/V10/V10SP2/os/adv/lic/updates/aarch64/Packages/php-devel-7.2.10-16.ky10.aarch64.rpmhttp://update.cs2c.com.cn:8080/NS/V10/V10SP2/os/adv/lic/updates/aarch64/Packages/php-embedded-7.2.10-16.ky10.aarch64.rpmhttp://update.cs2c.com.cn:8080/NS/V10/V10SP2/os/adv/lic/updates/aarch64/Packages/php-enchant-7.2.10-16.ky10.aarch64.rpmhttp://update.cs2c.com.cn:8080/NS/V10/V10SP2/os/adv/lic/updates/aarch64/Packages/php-fpm-7.2.10-16.ky10.aarch64.rpmhttp://update.cs2c.com.cn:8080/NS/V10/V10SP2/os/adv/lic/updates/aarch64/Packages/php-gd-7.2.10-16.ky10.aarch64.rpmhttp://update.cs2c.com.cn:8080/NS/V10/V10SP2/os/adv/lic/updates/aarch64/Packages/php-gmp-7.2.10-16.ky10.aarch64.rpmhttp://update.cs2c.com.cn:8080/NS/V10/V10SP2/os/adv/lic/updates/aarch64/Packages/php-help-7.2.10-16.ky10.aarch64.rpmhttp://update.cs2c.com.cn:8080/NS/V10/V10SP2/os/adv/lic/updates/aarch64/Packages/php-intl-7.2.10-16.ky10.aarch64.rpmhttp://update.cs2c.com.cn:8080/NS/V10/V10SP2/os/adv/lic/updates/aarch64/Packages/php-json-7.2.10-16.ky10.aarch64.rpmhttp://update.cs2c.com.cn:8080/NS/V10/V10SP2/os/adv/lic/updates/aarch64/Packages/php-ldap-7.2.10-16.ky10.aarch64.rpmhttp://update.cs2c.com.cn:8080/NS/V10/V10SP2/os/adv/lic/updates/aarch64/Packages/php-mbstring-7.2.10-16.ky10.aarch64.rpmhttp://update.cs2c.com.cn:8080/NS/V10/V10SP2/os/adv/lic/updates/aarch64/Packages/php-mysqlnd-7.2.10-16.ky10.aarch64.rpmhttp://update.cs2c.com.cn:8080/NS/V10/V10SP2/os/adv/lic/updates/aarch64/Packages/php-odbc-7.2.10-16.ky10.aarch64.rpmhttp://update.cs2c.com.cn:8080/NS/V10/V10SP2/os/adv/lic/updates/aarch64/Packages/php-opcache-7.2.10-16.ky10.aarch64.rpmhttp://update.cs2c.com.cn:8080/NS/V10/V10SP2/os/adv/lic/updates/aarch64/Packages/php-pdo-7.2.10-16.ky10.aarch64.rpmhttp://update.cs2c.com.cn:8080/NS/V10/V10SP2/os/adv/lic/updates/aarch64/Packages/php-pgsql-7.2.10-16.ky10.aarch64.rpmhttp://update.cs2c.com.cn:8080/NS/V10/V10SP2/os/adv/lic/updates/aarch64/Packages/php-process-7.2.10-16.ky10.aarch64.rpmhttp://update.cs2c.com.cn:8080/NS/V10/V10SP2/os/adv/lic/updates/aarch64/Packages/php-recode-7.2.10-16.ky10.aarch64.rpmhttp://update.cs2c.com.cn:8080/NS/V10/V10SP2/os/adv/lic/updates/aarch64/Packages/php-snmp-7.2.10-16.ky10.aarch64.rpmhttp://update.cs2c.com.cn:8080/NS/V10/V10SP2/os/adv/lic/updates/aarch64/Packages/php-soap-7.2.10-16.ky10.aarch64.rpmhttp://update.cs2c.com.cn:8080/NS/V10/V10SP2/os/adv/lic/updates/aarch64/Packages/php-tidy-7.2.10-16.ky10.aarch64.rpmhttp://update.cs2c.com.cn:8080/NS/V10/V10SP2/os/adv/lic/updates/aarch64/Packages/php-xml-7.2.10-16.ky10.aarch64.rpmhttp://update.cs2c.com.cn:8080/NS/V10/V10SP2/os/adv/lic/updates/aarch64/Packages/php-xmlrpc-7.2.10-16.ky10.aarch64.rpm  php x86_64软件包下载地址:http://update.cs2c.com.cn:8080/NS/V10/V10SP2/os/adv/lic/updates/x86_64/Packages/php-7.2.10-16.ky10.x86_64.rpmhttp://update.cs2c.com.cn:8080/NS/V10/V10SP2/os/adv/lic/updates/x86_64/Packages/php-bcmath-7.2.10-16.ky10.x86_64.rpmhttp://update.cs2c.com.cn:8080/NS/V10/V10SP2/os/adv/lic/updates/x86_64/Packages/php-cli-7.2.10-16.ky10.x86_64.rpmhttp://update.cs2c.com.cn:8080/NS/V10/V10SP2/os/adv/lic/updates/x86_64/Packages/php-common-7.2.10-16.ky10.x86_64.rpmhttp://update.cs2c.com.cn:8080/NS/V10/V10SP2/os/adv/lic/updates/x86_64/Packages/php-dba-7.2.10-16.ky10.x86_64.rpmhttp://update.cs2c.com.cn:8080/NS/V10/V10SP2/os/adv/lic/updates/x86_64/Packages/php-dbg-7.2.10-16.ky10.x86_64.rpmhttp://update.cs2c.com.cn:8080/NS/V10/V10SP2/os/adv/lic/updates/x86_64/Packages/php-devel-7.2.10-16.ky10.x86_64.rpmhttp://update.cs2c.com.cn:8080/NS/V10/V10SP2/os/adv/lic/updates/x86_64/Packages/php-embedded-7.2.10-16.ky10.x86_64.rpmhttp://update.cs2c.com.cn:8080/NS/V10/V10SP2/os/adv/lic/updates/x86_64/Packages/php-enchant-7.2.10-16.ky10.x86_64.rpmhttp://update.cs2c.com.cn:8080/NS/V10/V10SP2/os/adv/lic/updates/x86_64/Packages/php-fpm-7.2.10-16.ky10.x86_64.rpmhttp://update.cs2c.com.cn:8080/NS/V10/V10SP2/os/adv/lic/updates/x86_64/Packages/php-gd-7.2.10-16.ky10.x86_64.rpmhttp://update.cs2c.com.cn:8080/NS/V10/V10SP2/os/adv/lic/updates/x86_64/Packages/php-gmp-7.2.10-16.ky10.x86_64.rpmhttp://update.cs2c.com.cn:8080/NS/V10/V10SP2/os/adv/lic/updates/x86_64/Packages/php-help-7.2.10-16.ky10.x86_64.rpmhttp://update.cs2c.com.cn:8080/NS/V10/V10SP2/os/adv/lic/updates/x86_64/Packages/php-intl-7.2.10-16.ky10.x86_64.rpmhttp://update.cs2c.com.cn:8080/NS/V10/V10SP2/os/adv/lic/updates/x86_64/Packages/php-json-7.2.10-16.ky10.x86_64.rpmhttp://update.cs2c.com.cn:8080/NS/V10/V10SP2/os/adv/lic/updates/x86_64/Packages/php-ldap-7.2.10-16.ky10.x86_64.rpmhttp://update.cs2c.com.cn:8080/NS/V10/V10SP2/os/adv/lic/updates/x86_64/Packages/php-mbstring-7.2.10-16.ky10.x86_64.rpmhttp://update.cs2c.com.cn:8080/NS/V10/V10SP2/os/adv/lic/updates/x86_64/Packages/php-mysqlnd-7.2.10-16.ky10.x86_64.rpmhttp://update.cs2c.com.cn:8080/NS/V10/V10SP2/os/adv/lic/updates/x86_64/Packages/php-odbc-7.2.10-16.ky10.x86_64.rpmhttp://update.cs2c.com.cn:8080/NS/V10/V10SP2/os/adv/lic/updates/x86_64/Packages/php-opcache-7.2.10-16.ky10.x86_64.rpmhttp://update.cs2c.com.cn:8080/NS/V10/V10SP2/os/adv/lic/updates/x86_64/Packages/php-pdo-7.2.10-16.ky10.x86_64.rpmhttp://update.cs2c.com.cn:8080/NS/V10/V10SP2/os/adv/lic/updates/x86_64/Packages/php-pgsql-7.2.10-16.ky10.x86_64.rpmhttp://update.cs2c.com.cn:8080/NS/V10/V10SP2/os/adv/lic/updates/x86_64/Packages/php-process-7.2.10-16.ky10.x86_64.rpmhttp://update.cs2c.com.cn:8080/NS/V10/V10SP2/os/adv/lic/updates/x86_64/Packages/php-recode-7.2.10-16.ky10.x86_64.rpmhttp://update.cs2c.com.cn:8080/NS/V10/V10SP2/os/adv/lic/updates/x86_64/Packages/php-snmp-7.2.10-16.ky10.x86_64.rpmhttp://update.cs2c.com.cn:8080/NS/V10/V10SP2/os/adv/lic/updates/x86_64/Packages/php-soap-7.2.10-16.ky10.x86_64.rpmhttp://update.cs2c.com.cn:8080/NS/V10/V10SP2/os/adv/lic/updates/x86_64/Packages/php-tidy-7.2.10-16.ky10.x86_64.rpmhttp://update.cs2c.com.cn:8080/NS/V10/V10SP2/os/adv/lic/updates/x86_64/Packages/php-xml-7.2.10-16.ky10.x86_64.rpmhttp://update.cs2c.com.cn:8080/NS/V10/V10SP2/os/adv/lic/updates/x86_64/Packages/php-xmlrpc-7.2.10-16.ky10.x86_64.rpm注：其他相关依赖包请到相同目录下载
