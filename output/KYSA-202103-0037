Name:KYSA-202103-0037
Severity:中等
Summary:privoxy安全漏洞
Published:2022-02-28
URL:/support/loophole/patch/935.html
Title:
			公告ID：KYSA-202103-0037
公告摘要：privoxy安全漏洞
等级：中等
发布日期：2022-02-28
		
1. 漏洞概述
CVE-2021-20275
Privoxy是一款不进行网页缓存且自带过滤功能的代理服务器。它具有高级过滤功能，可增强隐私，修改网页数据和HTTP标头，控制访问以及删除广告和其他令人讨厌的Internet垃圾。Privoxy具有灵活的配置，可以根据个人需要进行定制。它适用于独立系统和多用户网络。privoxy before 3.0.32 存在安全漏洞，该漏洞源于在chunked_body_is_complete中可能出现大小为2的无效读取，从而导致拒绝服务。
CVE-2021-20276
Privoxy是一款不进行网页缓存且自带过滤功能的代理服务器。它具有高级过滤功能，可增强隐私，修改网页数据和HTTP标头，控制访问以及删除广告和其他令人讨厌的Internet垃圾。Privoxy具有灵活的配置，可以根据个人需要进行定制。它适用于独立系统和多用户网络。privoxy before 3.0.32 存在安全漏洞，该漏洞源于无效的内存访问和传递给pcre compile()的无效模式可能会导致拒绝服务。
CVE-2021-20272
Privoxy是一款不进行网页缓存且自带过滤功能的代理服务器。它具有高级过滤功能，可增强隐私，修改网页数据和HTTP标头，控制访问以及删除广告和其他令人讨厌的Internet垃圾。Privoxy具有灵活的配置，可以根据个人需要进行定制。它适用于独立系统和多用户网络。privoxy before 3.0.32 存在安全漏洞，该漏洞源于精心设计的CGI请求可能会触发断言失败，从而导致服务器崩溃。
CVE-2020-35502
Privoxy是一款不进行网页缓存且自带过滤功能的代理服务器。它具有高级过滤功能，可增强隐私，修改网页数据和HTTP标头，控制访问以及删除广告和其他令人讨厌的Internet垃圾。Privoxy具有灵活的配置，可以根据个人需要进行定制。它适用于独立系统和多用户网络。Privoxy 存在安全漏洞，该漏洞源于响应被缓冲并且达到缓冲区限制或Privoxy耗尽内存时的内存泄漏问题。
CVE-2021-20209
Privoxy是一款不进行网页缓存且自带过滤功能的代理服务器。它具有高级过滤功能，可增强隐私，修改网页数据和HTTP标头，控制访问以及删除广告和其他令人讨厌的Internet垃圾。Privoxy具有灵活的配置，可以根据个人需要进行定制。它适用于独立系统和多用户网络。Privoxy 存在安全漏洞，该漏洞源于当未配置任何操作文件时，show-status CGI 处理程序中发现了内存泄漏漏洞。
CVE-2021-20273
Privoxy是一款不进行网页缓存且自带过滤功能的代理服务器。它具有高级过滤功能，可增强隐私，修改网页数据和HTTP标头，控制访问以及删除广告和其他令人讨厌的Internet垃圾。Privoxy具有灵活的配置，可以根据个人需要进行定制。它适用于独立系统和多用户网络。privoxy before 3.0.32 存在安全漏洞，该漏洞源于如果关闭Privoxy，经过精心设计的CGI请求就会发生崩溃。
CVE-2021-20216
Privoxy是一款不进行网页缓存且自带过滤功能的代理服务器。它具有高级过滤功能，可增强隐私，修改网页数据和HTTP标头，控制访问以及删除广告和其他令人讨厌的Internet垃圾。Privoxy具有灵活的配置，可以根据个人需要进行定制。它适用于独立系统和多用户网络。Privoxy 存在资源管理错误漏洞，该漏洞源于解压缩意外失败时的内存泄漏可能会导致拒绝服务。
CVE-2021-20217
Privoxy是一款不进行网页缓存且自带过滤功能的代理服务器。它具有高级过滤功能，可增强隐私，修改网页数据和HTTP标头，控制访问以及删除广告和其他令人讨厌的Internet垃圾。Privoxy具有灵活的配置，可以根据个人需要进行定制。它适用于独立系统和多用户网络。Privoxy 存在安全漏洞，攻击者可利用该漏洞发送CGI请求触发断言。
CVE-2021-20214
Privoxy是一款不进行网页缓存且自带过滤功能的代理服务器。它具有高级过滤功能，可增强隐私，修改网页数据和HTTP标头，控制访问以及删除广告和其他令人讨厌的Internet垃圾。Privoxy具有灵活的配置，可以根据个人需要进行定制。它适用于独立系统和多用户网络。Privoxy 存在安全漏洞，该漏洞源于错误地处理了客户端标签。攻击者可能使用此问题导致Privoxy消耗资源，从而导致拒绝服务。
CVE-2021-20215
Privoxy是一款不进行网页缓存且自带过滤功能的代理服务器。它具有高级过滤功能，可增强隐私，修改网页数据和HTTP标头，控制访问以及删除广告和其他令人讨厌的Internet垃圾。Privoxy具有灵活的配置，可以根据个人需要进行定制。它适用于独立系统和多用户网络。Privoxy 存在安全漏洞，该漏洞源于当内存分配失败时显示状态CGI处理器的内存泄漏。
CVE-2021-20212
Privoxy是一款不进行网页缓存且自带过滤功能的代理服务器。它具有高级过滤功能，可增强隐私，修改网页数据和HTTP标头，控制访问以及删除广告和其他令人讨厌的Internet垃圾。Privoxy具有灵活的配置，可以根据个人需要进行定制。它适用于独立系统和多用户网络。Privoxy 存在安全漏洞，该漏洞由于执行多个过滤器时内存泄漏。
CVE-2021-20213
Privoxy是一款不进行网页缓存且自带过滤功能的代理服务器。它具有高级过滤功能，可增强隐私，修改网页数据和HTTP标头，控制访问以及删除广告和其他令人讨厌的Internet垃圾。Privoxy具有灵活的配置，可以根据个人需要进行定制。它适用于独立系统和多用户网络。Privoxy 存在代码问题漏洞，该漏洞源于Privoxy无法从主机报头获取请求目的地，并且内存分配失败，则防止可能导致崩溃的空指针解引用。
CVE-2021-20210
Privoxy是一款不进行网页缓存且自带过滤功能的代理服务器。它具有高级过滤功能，可增强隐私，修改网页数据和HTTP标头，控制访问以及删除广告和其他令人讨厌的Internet垃圾。Privoxy具有灵活的配置，可以根据个人需要进行定制。它适用于独立系统和多用户网络。Privoxy 存在安全漏洞，该漏洞源于没有配置过滤器文件时显示状态CGI处理程序的内存泄漏。
CVE-2021-20211
Privoxy是一款不进行网页缓存且自带过滤功能的代理服务器。它具有高级过滤功能，可增强隐私，修改网页数据和HTTP标头，控制访问以及删除广告和其他令人讨厌的Internet垃圾。Privoxy具有灵活的配置，可以根据个人需要进行定制。它适用于独立系统和多用户网络。Privoxy 存在安全漏洞，该漏洞源于客户端标记处于活动状态时内存泄漏。

2. 受影响的操作系统及软件包
·银河麒麟桌面操作系统V4 SP1、银河麒麟桌面操作系统V4 SP2、银河麒麟桌面操作系统V4 SP3、银河麒麟桌面操作系统V4 SP4
x86_64 架构：
privoxy
arm64 架构：
privoxy
mips64el 架构：
privoxy
·银河麒麟服务器操作系统V4 SP1、银河麒麟服务器操作系统V4 SP2、银河麒麟服务器操作系统V4 SP3、银河麒麟服务器操作系统V4 SP4
x86_64 架构：
privoxy
arm64 架构：
privoxy
mips64el 架构：
privoxy

3. 软件包修复版本
·银河麒麟桌面操作系统V4 SP1、银河麒麟桌面操作系统V4 SP2、银河麒麟桌面操作系统V4 SP3、银河麒麟桌面操作系统V4 SP4
3.0.24-1kord0.1
·银河麒麟服务器操作系统V4 SP1、银河麒麟服务器操作系统V4 SP2、银河麒麟服务器操作系统V4 SP3、银河麒麟服务器操作系统V4 SP4
3.0.24-1kord0.1


4. 修复方法
方法一：配置源进行升级安装
打开软件包源配置文件，根据仓库地址进行修改。
4.0.2-sp1桌面版:
http://archive.kylinos.cn/kylin/KYLIN-ALL 4.0.2sp1-desktop main restricted universe multiverse
4.0.2-sp2桌面版:
http://archive.kylinos.cn/kylin/KYLIN-ALL 4.0.2sp2-desktop main restricted universe multiverse
4.0.2-sp3桌面版:
http://archive.kylinos.cn/kylin/KYLIN-ALL 4.0.2sp3-desktop main restricted universe multiverse
4.0.2-sp4桌面版:
http://archive.kylinos.cn/kylin/KYLIN-ALL 4.0.2sp4-desktop main restricted universe multiverse
4.0.2-sp1服务器版:
http://archive.kylinos.cn/kylin/KYLIN-ALL 4.0.2sp1-server main restricted universe multiverse
4.0.2-sp2服务器版:
http://archive.kylinos.cn/kylin/KYLIN-ALL 4.0.2sp2-server main restricted universe multiverse
4.0.2-sp3服务器版:
http://archive.kylinos.cn/kylin/KYLIN-ALL 4.0.2sp3-server main restricted universe multiverse
4.0.2-sp4服务器版:
http://archive.kylinos.cn/kylin/KYLIN-ALL 4.0.2sp4-server main restricted universe multiverse
配置完成后执行更新命令进行升级
$sudo apt update
$sudo apt install privoxy
方法二：下载软件包进行升级安装
通过软件包地址下载软件包，使用软件包升级命令根据受影响的软件包列表升级相关的组件包。
$sudo dpkg -i /Path1/Package1 /Path2/Package2 /Path3/Package3……
注：Path 指软件包下载到本地的路径，Package指下载的软件包名称，多个软件包则以空格分开。

5. 软件包下载地址
银河麒麟桌面操作系统V4
x86_64软件包下载地址
http://archive.kylinos.cn/kylin/KYLIN-ALL/pool/universe/p/privoxy/privoxy_3.0.24-1kord0.1_amd64.deb
arm64软件包下载地址
http://archive.kylinos.cn/kylin/KYLIN-ALL/pool/universe/p/privoxy/privoxy_3.0.24-1kord0.1_arm64.deb
mips64el软件包下载地址
http://archive.kylinos.cn/kylin/KYLIN-ALL/pool/universe/p/privoxy/privoxy_3.0.24-1kord0.1_mips64el.deb
银河麒麟服务器操作系统V4
x86_64软件包下载地址
http://archive.kylinos.cn/kylin/KYLIN-ALL/pool/universe/p/privoxy/privoxy_3.0.24-1kord0.1_amd64.deb
arm64软件包下载地址
http://archive.kylinos.cn/kylin/KYLIN-ALL/pool/universe/p/privoxy/privoxy_3.0.24-1kord0.1_arm64.deb
mips64el软件包下载地址
http://archive.kylinos.cn/kylin/KYLIN-ALL/pool/universe/p/privoxy/privoxy_3.0.24-1kord0.1_mips64el.deb

6. 修复验证
使用软件包查询命令，查看相关的软件包版本大于或等于修复版本则成功修复。
$sudo dpkg -l |grep Package
注：Package为软件包包名。
