Name:KYSA-202201-0007
Severity:重要
Summary:policykit-1安全漏洞
Published:2022-01-28
URL:/support/loophole/patch/861.html
Title:
			摘要：policykit-1安全漏洞
安全等级：重要
公告ID：KYSA-202201-0007
发布日期：2022.1.28
影响CVE：CVE-2021-4034
		
1. 修复的CVECVE-2021-4034polkit是一个在类 Unix操作系统中控制系统范围权限的组件。通过定义和审核权限规则，实现不同优先级进程间的通讯。polkit 的 pkexec application存在安全漏洞，攻击者可利用该漏洞通过精心设计环境变量诱导pkexec执行任意代码。成功执行攻击后，如果目标计算机上没有权限的用户拥有管理权限，攻击可能会导致本地权限升级。2. 受影响的系统及软件包银河麒麟桌面操作系统V4 SP1  银河麒麟桌面操作系统V4 SP2  银河麒麟桌面操作系统V4 SP3  银河麒麟桌面操作系统V4 SP4arm64 架构：gir1.2-polkit-1.0、libpolkit-agent-1-0、libpolkit-backend-1-0、libpolkit-gobject-1-0、policykit-1x86_64 架构：gir1.2-polkit-1.0、libpolkit-agent-1-0、libpolkit-backend-1-0、libpolkit-gobject-1-0、policykit-1mips64el 架构：gir1.2-polkit-1.0、libpolkit-agent-1-0、libpolkit-backend-1-0、libpolkit-gobject-1-0、policykit-1银河麒麟服务器操作系统V4 SP1  银河麒麟服务器操作系统V4 SP2  银河麒麟服务器操作系统V4 SP3  银河麒麟服务器操作系统V4 SP4arm64 架构：gir1.2-polkit-1.0、libpolkit-agent-1-0、libpolkit-backend-1-0、libpolkit-gobject-1-0、policykit-1x86_64 架构：gir1.2-polkit-1.0、libpolkit-agent-1-0、libpolkit-backend-1-0、libpolkit-gobject-1-0、policykit-1mips64el 架构：gir1.2-polkit-1.0、libpolkit-agent-1-0、libpolkit-backend-1-0、libpolkit-gobject-1-0、policykit-13. 软件包修复版本银河麒麟桌面操作系统V4 SP1银河麒麟桌面操作系统V4 SP2银河麒麟桌面操作系统V4 SP3银河麒麟桌面操作系统V4 SP4gir1.2-polkit-1.0_0.105-14.1kord0.5+esm1libpolkit-agent-1-0_0.105-14.1kord0.5+esm1libpolkit-backend-1-0_0.105-14.1kord0.5+esm1libpolkit-gobject-1-0_0.105-14.1kord0.5+esm1policykit-1_0.105-14.1kord0.5+esm1银河麒麟服务器操作系统V4 SP1、银河麒麟服务器操作系统V4 SP2、银河麒麟服务器操作系统V4 SP3、银河麒麟服务器操作系统V4 SP4gir1.2-polkit-1.0_0.105-14.1kord0.5+esm1libpolkit-agent-1-0_0.105-14.1kord0.5+esm1libpolkit-backend-1-0_0.105-14.1kord0.5+esm1libpolkit-gobject-1-0_0.105-14.1kord0.5+esm1policykit-1_0.105-14.1kord0.5+esm14. 临时缓解措施方法一：修改 pkexec的权限:$sudo chmod 0755 /usr/bin/pkexec5. 修复方法下载补丁包进行升级安装通过补丁包下载地址下载补丁包，使用软件包升级命令根据受影响的软件包列表 升级相关的组件。$sudo dpkg -i Packagelists6. 补丁包下载地址银河麒麟桌面操作系统V4X86_64软件包下载地址https://archive.kylinos.cn/kylin/KYLIN-ALL/pool/policykit-1/gir1.2-polkit-1.0_0.105-14.1kord0.5+esm1_amd64.debhttps://archive.kylinos.cn/kylin/KYLIN-ALL/pool/policykit-1/libpolkit-agent-1-0_0.105-14.1kord0.5+esm1_amd64.debhttps://archive.kylinos.cn/kylin/KYLIN-ALL/pool/policykit-1/libpolkit-backend-1-0_0.105-14.1kord0.5+esm1_amd64.debhttps://archive.kylinos.cn/kylin/KYLIN-ALL/pool/policykit-1/libpolkit-gobject-1-0_0.105-14.1kord0.5+esm1_amd64.debhttps://archive.kylinos.cn/kylin/KYLIN-ALL/pool/policykit-1/policykit-1_0.105-14.1kord0.5+esm1_amd64.debarm64软件包下载地址https://archive.kylinos.cn/kylin/KYLIN-ALL/pool/policykit-1/gir1.2-polkit-1.0_0.105-14.1kord0.5+esm1_arm64.debhttps://archive.kylinos.cn/kylin/KYLIN-ALL/pool/policykit-1/libpolkit-agent-1-0_0.105-14.1kord0.5+esm1_arm64.debhttps://archive.kylinos.cn/kylin/KYLIN-ALL/pool/policykit-1/libpolkit-backend-1-0_0.105-14.1kord0.5+esm1_arm64.debhttps://archive.kylinos.cn/kylin/KYLIN-ALL/pool/policykit-1/libpolkit-gobject-1-0_0.105-14.1kord0.5+esm1_arm64.debhttps://archive.kylinos.cn/kylin/KYLIN-ALL/pool/policykit-1/policykit-1_0.105-14.1kord0.5+esm1_arm64.debmips64el软件包下载地址https://archive.kylinos.cn/kylin/KYLIN-ALL/pool/policykit-1/gir1.2-polkit-1.0_0.105-14.1kord0.5+esm1_mips64el.debhttps://archive.kylinos.cn/kylin/KYLIN-ALL/pool/policykit-1/libpolkit-agent-1-0_0.105-14.1kord0.5+esm1_mips64el.debhttps://archive.kylinos.cn/kylin/KYLIN-ALL/pool/policykit-1/libpolkit-backend-1-0_0.105-14.1kord0.5+esm1_mips64el.debhttps://archive.kylinos.cn/kylin/KYLIN-ALL/pool/policykit-1/libpolkit-gobject-1-0_0.105-14.1kord0.5+esm1_mips64el.debhttps://archive.kylinos.cn/kylin/KYLIN-ALL/pool/policykit-1/policykit-1_0.105-14.1kord0.5+esm1_mips64el.deb 银河麒麟服务器操作系统V4X86_64软件包下载地址https://archive.kylinos.cn/kylin/KYLIN-ALL/pool/policykit-1/gir1.2-polkit-1.0_0.105-14.1kord0.5+esm1_amd64.debhttps://archive.kylinos.cn/kylin/KYLIN-ALL/pool/policykit-1/libpolkit-agent-1-0_0.105-14.1kord0.5+esm1_amd64.debhttps://archive.kylinos.cn/kylin/KYLIN-ALL/pool/policykit-1/libpolkit-backend-1-0_0.105-14.1kord0.5+esm1_amd64.debhttps://archive.kylinos.cn/kylin/KYLIN-ALL/pool/policykit-1/libpolkit-gobject-1-0_0.105-14.1kord0.5+esm1_amd64.debhttps://archive.kylinos.cn/kylin/KYLIN-ALL/pool/policykit-1/policykit-1_0.105-14.1kord0.5+esm1_amd64.debarm64软件包下载地址https://archive.kylinos.cn/kylin/KYLIN-ALL/pool/policykit-1/gir1.2-polkit-1.0_0.105-14.1kord0.5+esm1_arm64.debhttps://archive.kylinos.cn/kylin/KYLIN-ALL/pool/policykit-1/libpolkit-agent-1-0_0.105-14.1kord0.5+esm1_arm64.debhttps://archive.kylinos.cn/kylin/KYLIN-ALL/pool/policykit-1/libpolkit-backend-1-0_0.105-14.1kord0.5+esm1_arm64.debhttps://archive.kylinos.cn/kylin/KYLIN-ALL/pool/policykit-1/libpolkit-gobject-1-0_0.105-14.1kord0.5+esm1_arm64.debhttps://archive.kylinos.cn/kylin/KYLIN-ALL/pool/policykit-1/policykit-1_0.105-14.1kord0.5+esm1_arm64.debmips64el软件包下载地址https://archive.kylinos.cn/kylin/KYLIN-ALL/pool/policykit-1/gir1.2-polkit-1.0_0.105-14.1kord0.5+esm1_mips64el.debhttps://archive.kylinos.cn/kylin/KYLIN-ALL/pool/policykit-1/libpolkit-agent-1-0_0.105-14.1kord0.5+esm1_mips64el.debhttps://archive.kylinos.cn/kylin/KYLIN-ALL/pool/policykit-1/libpolkit-backend-1-0_0.105-14.1kord0.5+esm1_mips64el.debhttps://archive.kylinos.cn/kylin/KYLIN-ALL/pool/policykit-1/libpolkit-gobject-1-0_0.105-14.1kord0.5+esm1_mips64el.debhttps://archive.kylinos.cn/kylin/KYLIN-ALL/pool/policykit-1/policykit-1_0.105-14.1kord0.5+esm1_mips64el.deb注：其他相关依赖包请到相同目录下载 7. 修复验证使用软件包查询命令，查看相关的软件包版本与修复版本一致则成功修复。$sudo dpkg -l |grep Packagename 
